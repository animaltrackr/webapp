{"version":3,"sources":["pages/index.jsx","components/Map/Map.jsx","components/NavBar/NavBar.jsx","modules/api.js","pages/Tracking/Tracking.jsx","pages/NotFoundPage/NotFoundPage.jsx","App.jsx","serviceWorker.js","index.js"],"names":["Content","Layout","Footer","MainPage","react_default","a","createElement","layout_default","id","className","Link","to","button_default","type","size","row_default","justify","col_default","span","Map","style","height","width","lib_default","bootstrapURLKeys","key","process","REACT_APP_GOOGLE_API_KEY","defaultCenter","lat","lng","defaultZoom","options","maps","mapTypeId","this","props","deerStates","map","element","index","pos","startsWith","tmp","icon_default","theme","color","fontSize","text","Component","Title","Typography","SubMenu","Menu","NavBar","_this","menu_default","mode","Item","level","title","ItemGroup","name","onClick","toggleDeer","enableAllDeer","React","SERVER_URL","METHOD","myFetch","url","arguments","length","undefined","method","body","message","concat","JSON","stringify","console","info","logRequest","fetch","Object","objectSpread","headers","then","response","json","resBody","logResponse","readTrackers","readPoints","Tracking","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","e","setState","_ref","deer","visible","log","showAll","state","_ref2","loading","hideFilter","trackersPromise","api","pointsPromise","Promise","all","values","_values","slicedToArray","trackers","points","pointsMap","tracker","reduce","acc","defineProperty","forEach","point","push","animals","animal_id","status","colour","tracks","components_NavBar_NavBar","components_Map_Map","defaultProps","last_location","NotFoundPage","App","BrowserRouter","Switch","Route","exact","path","component","Redirect","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cb8fb942.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Layout from 'antd/lib/layout';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Button from 'antd/lib/button';\n\nimport './index.css';\n\nconst { Content, Footer } = Layout;\n\nconst MainPage = () => {\n\treturn (\n\t\t<Layout id=\"antd-override-bg-color\">\n\t\t\t<section className=\"svg hero-image\">\n\t\t\t\t<div className=\"text hero-text\">\n\t\t\t\t\t<h1 className=\"text title-text animated-fade-up\">\n\t\t\t\t\t\tBe on the right track.\n\t\t\t\t\t</h1>\n\t\t\t\t\t<p className=\"text highlight-text animated-fade-up\">\n\t\t\t\t\t\tOur collars are fuckinâ€™ bomb, like, so good. You wish you had our\n\t\t\t\t\t\tcollars. Imagine a world where you could track animals cheaper and\n\t\t\t\t\t\tmore efficently. Deer? Hell yeah. Cats? Uh, duh. Humans? No, but\n\t\t\t\t\t\tsecretly yes.\n\t\t\t\t\t</p>\n\t\t\t\t\t<Link to=\"app\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tclassName=\"antd-override-button-color animated-fade-up\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tVisit Our Tracking Page\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</section>\n\n\t\t\t<Content id=\"description\">\n\t\t\t\t<Row type=\"flex\" justify=\"space-between\" className=\"desc-area\">\n\t\t\t\t\t<figure className=\"svg desc-img deer-img\" />\n\t\t\t\t\t<Col span={16} className=\"desc-area\">\n\t\t\t\t\t\t<h1 className=\"text title-text\">What do our collars do?</h1>\n\t\t\t\t\t\t<p className=\"text highlight-text\">\n\t\t\t\t\t\t\tDoggo ipsum pupper maximum borkdrive much ruin diet very hand that\n\t\t\t\t\t\t\tfeed shibe porgo he made many woofs, the neighborhood pupper stop\n\t\t\t\t\t\t\tit fren yapper heckin good boys length boy, long woofer shooberino\n\t\t\t\t\t\t\tlotsa pats doggorino.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Row type=\"flex\" justify=\"space-between\" className=\"desc-area\">\n\t\t\t\t\t<Col span={16} className=\"desc-area\">\n\t\t\t\t\t\t<h1 className=\"text title-text\">How did we make them?</h1>\n\t\t\t\t\t\t<p className=\"text highlight-text\">\n\t\t\t\t\t\t\tClouds floofs tungg mlem yapper, heckin ruff he made many woofs\n\t\t\t\t\t\t\tpupper waggy wags, shoob heckin good boys and girls borking doggo.\n\t\t\t\t\t\t\tMaximum borkdrive very hand that feed shibe floofs shibe heckin\n\t\t\t\t\t\t\tgood boys and girls long doggo, I am bekom fat fat boi yapper\n\t\t\t\t\t\t\tcorgo. Doggorino long woofer the neighborhood pupper pupperino,\n\t\t\t\t\t\t\tshoob. Very jealous pupper yapper clouds vvv, ur givin me a spook.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<figure className=\"svg desc-img house-img\" />\n\t\t\t\t</Row>\n\n\t\t\t\t<Row type=\"flex\" justify=\"space-between\" className=\"desc-area\">\n\t\t\t\t\t<figure className=\"svg desc-img partner-img\" />\n\t\t\t\t\t<Col span={16} className=\"desc-area\">\n\t\t\t\t\t\t<h1 className=\"text title-text\">Why partner with us?</h1>\n\t\t\t\t\t\t<p className=\"text highlight-text\">\n\t\t\t\t\t\t\tYou are doing me a frighten vvv smol puggo very hand that feed\n\t\t\t\t\t\t\tshibe woofer, h*ck shooberino aqua doggo h*ck. wow such tempt\n\t\t\t\t\t\t\theckin good boys and girls pupper. Wrinkler corgo long water shoob\n\t\t\t\t\t\t\tborkdrive length boy, yapper very good spot ur givin me a spook I\n\t\t\t\t\t\t\tam bekom fat shooberino, most angery pupper I have ever seen\n\t\t\t\t\t\t\tadorable doggo boofers.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Content>\n\n\t\t\t<Footer>\n\t\t\t\t<Row type=\"flex\" justify=\"space-between\">\n\t\t\t\t\t<p>idk maybe link to something?</p>\n\t\t\t\t\t<p>and here</p>\n\t\t\t\t</Row>\n\t\t\t</Footer>\n\t\t</Layout>\n\t);\n};\n\nexport default MainPage;\n","import React, { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Icon from 'antd/lib/icon';\n\nclass Map extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div style={{ height: 'calc(100vh - 47.4px)', width: '100%' }}>\n\t\t\t\t<GoogleMapReact\n\t\t\t\t\tbootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_API_KEY }}\n\t\t\t\t\tdefaultCenter={{ lat: 48.462, lng: -123.313 }}\n\t\t\t\t\tdefaultZoom={14}\n\t\t\t\t\toptions={function(maps) {\n\t\t\t\t\t\treturn { mapTypeId: 'satellite' };\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.props.deerStates\n\t\t\t\t\t\t? this.props.deerStates.map((element, index) => {\n\t\t\t\t\t\t\t\tif (element['visible']) {\n\t\t\t\t\t\t\t\t\treturn element['tracks'].map(pos => {\n\t\t\t\t\t\t\t\t\t\tif (pos['geo_lat'].startsWith('-')) {\n\t\t\t\t\t\t\t\t\t\t\tvar tmp = pos['geo_lat'];\n\t\t\t\t\t\t\t\t\t\t\tpos['geo_lat'] = pos['geo_long'];\n\t\t\t\t\t\t\t\t\t\t\tpos['geo_long'] = tmp;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"environment\"\n\t\t\t\t\t\t\t\t\t\t\t\ttheme=\"filled\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: element['colour'], fontSize: '15px' }}\n\t\t\t\t\t\t\t\t\t\t\t\tlat={pos['geo_lat']}\n\t\t\t\t\t\t\t\t\t\t\t\tlng={pos['geo_long']}\n\t\t\t\t\t\t\t\t\t\t\t\ttext=\"My Marker\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: ''}\n\t\t\t\t</GoogleMapReact>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nMap.propTypes = {};\n\nexport default Map;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Menu from 'antd/lib/menu';\nimport Typography from 'antd/lib/typography';\n\nimport './NavBar.css';\n\nconst { Title } = Typography;\nconst { SubMenu } = Menu;\n\nclass NavBar extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Menu mode=\"horizontal\">\n\t\t\t\t<Menu.Item>\n\t\t\t\t\t<Title level={3}>\n\t\t\t\t\t\t<Link to=\"/\">animaltrckr</Link>\n\t\t\t\t\t</Title>\n\t\t\t\t</Menu.Item>\n\t\t\t\t<SubMenu\n\t\t\t\t\ttitle={<span className=\"submenu-title-wrapper\">Active Collars</span>}\n\t\t\t\t>\n\t\t\t\t\t{this.props.deerStates\n\t\t\t\t\t\t? this.props.deerStates.map((element, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Menu.ItemGroup key={element.id} title={element.name}>\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key={element.id} onClick={this.props.toggleDeer}>\n\t\t\t\t\t\t\t\t\t\t\tShow Tracks\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t</Menu.ItemGroup>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: null}\n\t\t\t\t\t<Menu.Item onClick={this.props.enableAllDeer}>Show All</Menu.Item>\n\t\t\t\t</SubMenu>\n\t\t\t</Menu>\n\t\t);\n\t}\n}\nexport default NavBar;\n","const SERVER_URL = `http://api.animaltrackr.com`;\n\nconst METHOD = {\n\tGET: 'GET',\n\tPOST: 'POST',\n\tPUT: 'PUT',\n\tDELETE: 'DELETE',\n};\n\n// Log outgoing requests\nconst logRequest = (method, url, body = undefined) => {\n\tlet message = `${method} Request made to ${url}`;\n\tif (body) message += `\\nWith body: ${JSON.stringify(body)}`;\n\n\tconsole.info(message);\n};\n\n// Log incoming responses\nconst logResponse = (method, url, body = undefined) => {\n\tlet message = `${method} Response from ${url}`;\n\tif (body) message += `\\nWith body: ${JSON.stringify(body)}`;\n\n\tconsole.info(message);\n};\n\n// Compose fetch with logging & JSON parsing\nconst myFetch = (url, options = {}) => {\n\tconst method = options.method || METHOD.GET;\n\tlogRequest(method, url, options);\n\n\treturn fetch(url, {\n\t\theaders: {\n\t\t\t// 'Content-Type': 'application/json',\n\t\t\t...(options.headers || {}),\n\t\t},\n\t\t...options,\n\t})\n\t\t.then(response => response.json())\n\t\t.then(resBody => {\n\t\t\tlogResponse(method, url, resBody);\n\t\t\treturn resBody;\n\t\t});\n};\n\nexport const createTracker = data => {\n\tconst url = `${SERVER_URL}/animal/trackers`;\n\treturn myFetch(url, {\n\t\tmethod: METHOD.POST,\n\t\tbody: JSON.stringify(data),\n\t});\n};\n\nexport const readTrackers = () => {\n\tconst url = `${SERVER_URL}/animal/trackers`;\n\treturn myFetch(url);\n};\n\nexport const readTracker = trackerId => {\n\tconst url = `${SERVER_URL}/animal/trackers/${trackerId}`;\n\treturn myFetch(url);\n};\n\nexport const updateTracker = (trackerId, data) => {\n\tconst url = `${SERVER_URL}/animal/trackers/${trackerId}`;\n\treturn myFetch(url, {\n\t\tmethod: METHOD.PUT,\n\t\tbody: JSON.stringify(data),\n\t});\n};\n\nexport const deleteTracker = trackerId => {\n\tconst url = `${SERVER_URL}/animal/trackers/${trackerId}`;\n\treturn myFetch(url, {\n\t\tmethod: METHOD.DELETE,\n\t});\n};\n\nexport const createPoint = data => {\n\tconst url = `${SERVER_URL}/animal/points`;\n\treturn myFetch(url, {\n\t\tmethod: METHOD.POST,\n\t\tbody: JSON.stringify(data),\n\t});\n};\n\nexport const readPoints = () => {\n\tconst url = `${SERVER_URL}/animal/points`;\n\treturn myFetch(url);\n};\n\nexport const readPoint = pointId => {\n\tconst url = `${SERVER_URL}/animal/points/${pointId}`;\n\treturn myFetch(url);\n};\n\nexport const updatePoint = (pointId, data) => {\n\tconst url = `${SERVER_URL}/animal/points/${pointId}`;\n\treturn myFetch(url, {\n\t\tmethod: METHOD.PUT,\n\t\tbody: JSON.stringify(data),\n\t});\n};\n\nexport const deletePoint = pointId => {\n\tconst url = `${SERVER_URL}/animal/points/${pointId}`;\n\treturn myFetch(url, {\n\t\tmethod: METHOD.DELETE,\n\t});\n};\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport Map from '../../components/Map/Map';\nimport NavBar from '../../components/NavBar/NavBar';\nimport * as api from '../../modules/api';\n\nclass Tracking extends Component {\n\tstatic defaultProps = {\n\t\tdeerStates: [\n\t\t\t{\n\t\t\t\tname: 'Deer 1',\n\t\t\t\tid: 1,\n\t\t\t\tstate: false,\n\t\t\t\tlast_location: [[48.471, -123.324], [48.475, -123.328]],\n\t\t\t\tcolour: 'blue',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Deer 2',\n\t\t\t\tid: 2,\n\t\t\t\tstate: false,\n\t\t\t\tlast_location: [\n\t\t\t\t\t[48.462, -123.313],\n\t\t\t\t\t[48.465, -123.318],\n\t\t\t\t\t[48.469, -123.312],\n\t\t\t\t],\n\t\t\t\tcolour: 'white',\n\t\t\t},\n\t\t],\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdeerStates: [],\n\t\t\tloading: true,\n\t\t\tshowAll: false,\n\t\t\thideFilter: true,\n\t\t};\n\n\t\tconst trackersPromise = api.readTrackers();\n\t\tconst pointsPromise = api.readPoints();\n\n\t\t// Wait for both requests to return, then...\n\t\tPromise.all([trackersPromise, pointsPromise]).then(values => {\n\t\t\tconst [trackers, points] = values;\n\t\t\t// console.log('responded', values);\n\t\t\t// console.log('responded', trackers, points);\n\n\t\t\t// Build list of tracker IDs\n\t\t\tconst tracker_ids = trackers.map(tracker => tracker.id);\n\t\t\t// Turn into object with id as key, and [] as value\n\t\t\tconst pointsMap = tracker_ids.reduce(\n\t\t\t\t(acc, id) => ({ ...acc, [id]: [] }),\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\tconsole.log(pointsMap);\n\n\t\t\t// Push points onto appropriate array (per tracker id)\n\t\t\tpoints.forEach(point => pointsMap[point.tracker].push(point));\n\n\t\t\tconsole.log(pointsMap);\n\n\t\t\tconst animals = trackers.map(tracker => ({\n\t\t\t\tname: tracker.animal_id,\n\t\t\t\tid: tracker.id,\n\t\t\t\tstatus: tracker.status,\n\t\t\t\tvisible: false,\n\t\t\t\tcolour: 'red',\n\t\t\t\ttracks: pointsMap[tracker.id],\n\t\t\t\t// tracks ex:\n\t\t\t\t// [{\n\t\t\t\t// \t\"id\": \"49b497aa-461f-40dc-9ba0-774d518f2354\",\n\t\t\t\t// \t\"tracker\": \"bc6bf7b3-b173-4355-b5d2-ac1cdb2263ad\",\n\t\t\t\t// \t\"timestamp\": \"2019-07-23T06:40:31.092000Z\",\n\t\t\t\t// \t\"geo_lat\": \"48.463325\",\n\t\t\t\t// \t\"geo_long\": \"-123.311751\",\n\t\t\t\t// \t\"geo_error_radius\": \"1.0\",\n\t\t\t\t// \t\"geo_method\": \"G\"\n\t\t\t\t// }]\n\t\t\t}));\n\n\t\t\tconsole.log(animals);\n\n\t\t\t// Save to state\n\t\t\tthis.setState({ deerStates: animals, loading: false });\n\t\t});\n\t}\n\n\ttoggleDeer = e => {\n\t\tthis.setState(({ deerStates }) => ({\n\t\t\tdeerStates: deerStates.map(deer => ({\n\t\t\t\t...deer,\n\t\t\t\tvisible: deer.id === e.key ? !deer.visible : deer.visible,\n\t\t\t})),\n\t\t}));\n\n\t\tconsole.log(e.key);\n\n\t\t// try {\n\t\t// \t// try to access the tracks of the tracker so can populate if fails\n\t\t// \tvar tracks =this.state.deerStates.filter(deer => deer.id == e.key)[0].tracks;\n\t\t//\n\t\t// } catch {\n\t\t//    this.getDeerTracks(e.key);\n\t\t// }\n\t};\n\n\tenableAllDeer = () => {\n\t\tthis.setState({ showAll: !this.state.showAll });\n\n\t\tthis.setState(({ deerStates }) => ({\n\t\t\tdeerStates: deerStates.map(deer => ({\n\t\t\t\t...deer,\n\t\t\t\tvisible: !this.state.showAll,\n\t\t\t})),\n\t\t}));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<NavBar\n\t\t\t\t\tdeerStates={this.state.deerStates}\n\t\t\t\t\ttoggleDeer={this.toggleDeer}\n\t\t\t\t\tenableAllDeer={this.enableAllDeer}\n\t\t\t\t\thideFilter={this.state.hideFilter}\n\t\t\t\t/>\n\t\t\t\t<Map deerStates={this.state.deerStates} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTracking.propTypes = {\n\tdeerStates: PropTypes.array.isRequired,\n};\n\nexport default Tracking;\n","import React from 'react';\n\nconst NotFoundPage = () => {\n\treturn (\n\t\t<div>\n\t\t\t<h3>404 Not Found</h3>\n\t\t</div>\n\t);\n};\n\nexport default NotFoundPage;\n","import React, { Component } from 'react';\n\nimport {\n\tBrowserRouter as Router,\n\tRoute,\n\tSwitch,\n\tRedirect,\n} from 'react-router-dom';\n\nimport './App.css';\nimport MainPage from './pages';\nimport Tracking from './pages/Tracking';\nimport NotFoundPage from './pages/NotFoundPage';\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" component={MainPage} />\n\t\t\t\t\t<Route exact path=\"/app\" component={Tracking} />\n\t\t\t\t\t<Route exact path=\"/404\" component={NotFoundPage} />\n\t\t\t\t\t<Redirect to=\"/404\" />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}